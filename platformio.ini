
; ==============================================================================
; AeroLoRa Ground Station - 930 MHz (Direct Link)
; Changed from 915 MHz to avoid ELRS interference (902-928 MHz)
; ==============================================================================
[env:aero_ground]
platform = espressif32
board = heltec_wifi_lora_32_V3
framework = arduino
monitor_speed = 57600
upload_speed = 921600
board_build.filesystem = littlefs
build_src_filter = 
    +<aero_lora_ground.cpp>
    +<AeroLoRaProtocol.cpp>
    +<ESPNowTransport.cpp>
    +<DualBandTransport.cpp>
    +<MessageFilter.cpp>
    +<flight_logger.cpp>
build_flags =
    -DAERO_GROUND
    -DFREQ_PRIMARY=930.0
    -DESPNOW_DEBUG=0
    -DAEROLORA_DEBUG=0
    -DENABLE_FLIGHT_LOGGER
    -DDEBUG_LOGGING=0
lib_deps =
    jgromes/RadioLib@^6.4.0
    olikraus/U8g2@^2.35.9

; ==============================================================================
; AeroLoRa Ground Station - 902 MHz (Relay Link)
; For dual radio QGC testing - receives relayed packets from Drone2 Secondary 
; ==============================================================================
[env:qgc_radio2_902mhz]
platform = espressif32
board = heltec_wifi_lora_32_V3
framework = arduino
monitor_speed = 115200
upload_speed = 921600
board_build.filesystem = littlefs
build_src_filter = 
    +<aero_lora_ground.cpp>
    +<AeroLoRaProtocol.cpp>
    +<ESPNowTransport.cpp>
    +<DualBandTransport.cpp>
    +<MessageFilter.cpp>
    +<flight_logger.cpp>
build_flags =
    -DAERO_GROUND
    -DFREQ_PRIMARY=902
    -DFREQ_902MHZ_MODE
    -DENABLE_FLIGHT_LOGGER
    -DDEBUG_LOGGING=0
lib_deps =
    jgromes/RadioLib@^6.4.0
    olikraus/U8g2@^2.35.9

; ==============================================================================
; AeroLoRa Drone/Air Bridge - 930 MHz (Direct Link)
; Changed from 915 MHz to avoid ELRS interference
; ==============================================================================
[env:aero_drone]
platform = espressif32
board = heltec_wifi_lora_32_V3
framework = arduino
monitor_speed = 115200
upload_speed = 921600
build_src_filter = 
    +<aero_lora_drone.cpp>
    +<AeroLoRaProtocol.cpp>
    +<ESPNowTransport.cpp>
    +<DualBandTransport.cpp>
    +<MessageFilter.cpp>
    +<flight_logger.cpp>
build_flags =
    -DAERO_DRONE
    -DFREQ_PRIMARY=930.0
lib_deps =
    jgromes/RadioLib@^6.4.0
    olikraus/U8g2@^2.35.9

; ==============================================================================
; ASYMMETRIC RELAY SYSTEM BUILD CONFIGURATIONS
; ==============================================================================
; 
; Compile-time flags:
; - ENABLE_RELAY: Enables relay functionality (required for drone2_primary, 
;                 drone2_secondary, qgc_dual_radio)
; - ALWAYS_RELAY_MODE: Testing mode - relay is always active regardless of 
;                      link quality (bypasses passive detection)
; - RELAY_DEBUG: Enables verbose relay logging for debugging
; - NODE_ID: Unique identifier for each node (0=Ground, 1=Drone1, 2=Drone2, 3=Secondary)
; - FREQ_PRIMARY: Primary radio frequency in MHz (915.0 or 902.0)
; - FREQ_SECONDARY: Secondary radio frequency in MHz (only for qgc_dual_radio)
;
; Build environments:
; - drone1: Single Heltec target drone (no relay features)
; - drone2_primary: Relay coordinator with dual Heltec (Primary @ 915 MHz)
; - drone2_secondary: Relay bridge (Secondary @ 902 MHz)
; - qgc_dual_radio: Ground station with dual radios (915 + 902 MHz)
;
; ==============================================================================

; ==============================================================================
; Asymmetric Relay System - Drone1 (Target Drone)
; Single Heltec @ 930 MHz (changed from 915 to avoid ELRS interference)
; ==============================================================================
[env:drone1]
platform = espressif32
board = heltec_wifi_lora_32_V3
framework = arduino
monitor_speed = 115200
upload_speed = 921600
board_build.filesystem = littlefs
build_src_filter = 
    +<aero_lora_drone.cpp>
    +<AeroLoRaProtocol.cpp>
    +<ESPNowTransport.cpp>
    +<DualBandTransport.cpp>
    +<MessageFilter.cpp>
    +<flight_logger.cpp>
build_flags =
    -DAERO_DRONE
    -DNODE_ID=1
    -DFREQ_PRIMARY=930.0
    -DENABLE_FLIGHT_LOGGER
    -DDEBUG_LOGGING=0
lib_deps =
    jgromes/RadioLib@^6.4.0
    olikraus/U8g2@^2.35.9

; ==============================================================================
; Asymmetric Relay System - Drone1 (Target Drone) - JAMMER TEST MODE
; Single Heltec @ 930 MHz with ESP-NOW DISABLED
; Use this build for testing jammer effectiveness against pure LoRa
; ==============================================================================
[env:drone1_no_espnow]
platform = espressif32
board = heltec_wifi_lora_32_V3
framework = arduino
monitor_speed = 115200
upload_speed = 921600
board_build.filesystem = littlefs
build_src_filter = 
    +<aero_lora_drone.cpp>
    +<AeroLoRaProtocol.cpp>
    +<ESPNowTransport.cpp>
    +<DualBandTransport.cpp>
    +<MessageFilter.cpp>
    +<flight_logger.cpp>
build_flags =
    -DAERO_DRONE
    -DNODE_ID=1
    -DFREQ_PRIMARY=930.0
    -DENABLE_FLIGHT_LOGGER
    -DDEBUG_LOGGING=0
    -DDISABLE_ESPNOW
lib_deps =
    jgromes/RadioLib@^6.4.0
    olikraus/U8g2@^2.35.9

; ==============================================================================
; Asymmetric Relay System - Drone2 Primary
; Dual Heltec Primary @ 930 MHz with relay coordination (changed from 915 to avoid ELRS)
; ==============================================================================
[env:drone2_primary]
platform = espressif32
board = heltec_wifi_lora_32_V3
framework = arduino
monitor_speed = 115200
upload_speed = 921600
board_build.filesystem = littlefs
build_src_filter = 
    +<drone2_primary.cpp>
    +<AeroLoRaProtocol.cpp>
    +<ESPNowTransport.cpp>
    +<DualBandTransport.cpp>
    +<MessageFilter.cpp>
    +<flight_logger.cpp>
build_flags =
    -DAERO_DRONE
    -DNODE_ID=2
    -DFREQ_PRIMARY=930.0
    -DENABLE_RELAY
    -DALWAYS_RELAY_MODE
    -DRELAY_DEBUG
    -DENABLE_FLIGHT_LOGGER
    -DDEBUG_LOGGING=0
lib_deps =
    jgromes/RadioLib@^6.4.0
    olikraus/U8g2@^2.35.9

; ==============================================================================
; Asymmetric Relay System - Drone2 Secondary
; Dual Heltec Secondary @ 902 MHz (UART-to-LoRa bridge)
; ==============================================================================
[env:drone2_secondary]
platform = espressif32
board = heltec_wifi_lora_32_V3
framework = arduino
monitor_speed = 115200
upload_speed = 921600
board_build.filesystem = littlefs
build_src_filter = 
    +<drone2_secondary.cpp>
    +<AeroLoRaProtocol.cpp>
    +<ESPNowTransport.cpp>
    +<DualBandTransport.cpp>
    +<MessageFilter.cpp>
    +<flight_logger.cpp>
build_flags =
    -DAERO_DRONE
    -DNODE_ID=3
    -DFREQ_PRIMARY=902
    -DENABLE_RELAY
    -DALWAYS_RELAY_MODE
    -DRELAY_DEBUG
    -DENABLE_FLIGHT_LOGGER
    -DDEBUG_LOGGING=0
lib_deps =
    jgromes/RadioLib@^6.4.0
    olikraus/U8g2@^2.35.9

; ==============================================================================
; Asymmetric Relay System - QGC Dual Radio
; Dual Heltec @ 930 MHz + 902 MHz for ground station (930 changed from 915 to avoid ELRS)
; ==============================================================================
[env:qgc_dual_radio]
platform = espressif32
board = heltec_wifi_lora_32_V3
framework = arduino
monitor_speed = 115200
upload_speed = 921600
board_build.filesystem = littlefs
build_src_filter = 
    +<qgc_dual_radio.cpp>
    +<AeroLoRaProtocol.cpp>
    +<flight_logger.cpp>
build_flags =
    -DAERO_GROUND
    -DNODE_ID=0
    -DFREQ_PRIMARY=930.0
    -DFREQ_SECONDARY=902.0
    -DENABLE_RELAY
    -DALWAYS_RELAY_MODE
    -DRELAY_DEBUG
    -DENABLE_FLIGHT_LOGGER
    -DDEBUG_LOGGING=0
lib_deps =
    jgromes/RadioLib@^6.4.0
    olikraus/U8g2@^2.35.9


; ==============================================================================
; Jammer - Heltec V2 @ 930 MHz
; ==============================================================================
[env:jammer]
platform = espressif32
board = heltec_wifi_lora_32_V2
framework = arduino
monitor_speed = 115200
upload_speed = 921600
build_src_filter = +<jammer_v2.cpp>
build_flags = 
    -DJAMMER_MODE
    -DFREQ_JAMMER=930.0
lib_deps =
    jgromes/RadioLib@^6.4.0
    olikraus/U8g2@^2.35.9

; ==============================================================================
; Utility - Get MAC Address
; ==============================================================================
[env:get_mac]
platform = espressif32
board = heltec_wifi_lora_32_V3
framework = arduino
monitor_speed = 115200
upload_speed = 921600
build_src_filter = +<get_mac.cpp>
